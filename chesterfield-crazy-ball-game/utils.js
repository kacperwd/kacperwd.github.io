var PP={runOnWindow:function(t,e,i){"number"!=typeof e&&(e=60);var o=window.requestAnimationFrame||window.setTimeout,n=1e3/e,s=Date.now(),a=function(){var e=Date.now(),r=e-s,h=Math.round(r/n*1e3)/1e3;h>3&&(h=1),s=e,!1!==t.call(i,h,r)&&o(a)};o.call(window,a)},createDynamicFunction:function(t){return function(e){e.length||(e=Array.prototype.slice.call(arguments));for(var i=0,o=e.length;i<o;i++)t(this,e[i])}},approach:function(t,e,i){return t>e?(t-=i)<e&&(t=e):t<e&&(t+=i)>e&&(t=e),t},lerp:function(t,e,i){return(1-i)*t+i*e},tween:function(t,e,i){var o=0;PP.runOnWindow(function(n){var s=(o=Math.ceil(1e3*e(o,1,i*n))/1e3)>=1;return t(o,s),!s})},getCookie:function(t){for(var e=document.cookie.split(";"),i=0,o=e.length;i<o;i++){var n=e[i].trim().split("=");if(n[0]===t)return n[1]}return null},setCookie:function(t,e){document.cookie=t+"="+e},DrawingSpace:function(t,e){if(this.canvas=document.createElement("canvas"),this.context=null,this.options=t,this.clearMethod="clearRect",this._drawables=[],!this.canvas.getContext)throw"Could not get the 2d context of the created canvas.";this.context=this.canvas.getContext("2d",e),this.canvas.style.position="absolute",isNaN(t.x)||(this.canvas.style.left=t.x+"px"),isNaN(t.y)||(this.canvas.style.top=t.y+"px"),isNaN(t.width)||(this.canvas.width=t.width),isNaN(t.height)||(this.canvas.height=t.height),e&&!1===e.alpha&&(this.clearMethod="fillRect")}};PP.DrawingSpace.prototype.addDrawable=PP.createDynamicFunction(function(t,e){t._drawables.push(e)}),PP.DrawingSpace.prototype.removeDrawable=PP.createDynamicFunction(function(t,e){t._drawables.splice(t._drawables.indexOf(e),1)}),PP.DrawingSpace.prototype.redraw=function(){this.context[this.clearMethod](0,0,this.canvas.width,this.canvas.height);for(var t=0,e=this._drawables.length;t<e;t++)this._drawables[t].draw(this.context,this._drawables[t]);this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1},PP.Loader=function(){this.resources={},this.callbacks={onProgress:null,onComplete:null}},PP.loader=new PP.Loader,PP.Loader.prototype.add=function(t,e,i){var o={src:e,loaded:!1,tagName:"string"==typeof i?i:null};return this.resources[t]=o,this},PP.Loader.prototype.load=function(t,e){"function"==typeof t&&(this.callbacks.onProgress=t),"function"==typeof e&&(this.callbacks.onComplete=e),Object.keys(this.resources).forEach(function(t){var e=this.resources[t];PP.Loader._load[e.tagName]?PP.Loader._load[e.tagName](this,e):PP.Loader._load.fallback(this,e)},this)},PP.Loader._load={img:function(t,e){e.img=document.createElement("img"),e.img.addEventListener("load",function(){t._onResourceLoaded(e)}),e.img.src=e.src},audio:function(t,e){e.audio=document.createElement("audio"),e.audio.addEventListener("canplaythrough",function(){t._onResourceLoaded(e)}),e.audio.preload="auto",e.audio.src=e.src},fallback:function(t,e){var i=new XMLHttpRequest;i.onreadystatechange=function(){4==this.readyState&&200==this.status&&(e.text=this.responseText,t._onResourceLoaded(e))},i.open("GET",e.src,!0),i.send()}},PP.Loader.prototype._onResourceLoaded=function(t){var e,i=Object.keys(this.resources),o=0;t.loaded=!0,i.forEach(function(t){this.resources[t].loaded&&o++},this),e=o/i.length,"function"==typeof this.callbacks.onProgress&&this.callbacks.onProgress(e,t),e>=1&&"function"==typeof this.callbacks.onComplete&&(this.callbacks.onComplete(this.resources),this.callbacks.onComplete=null,this.callbacks.onProgress=null)},PP.Drawable=function(t,e){this.source=t,this.position={x:0,y:0},this.scale={x:1,y:1},this.skew={x:0,y:0},this.scissor=e||{x:0,y:0,width:this.source.width,height:this.source.height},this.origin={x:this.scissor.width/2,y:this.scissor.height/2},this.alpha=1,this.angle=0},PP.Drawable.prototype.draw=function(t,e){t.globalAlpha=e.alpha,t.setTransform(e.scale.x,e.skew.x,e.skew.y,e.scale.y,e.position.x,e.position.y),0!=e.angle&&t.rotate(e.angle),t.drawImage(this.source,this.scissor.x,this.scissor.y,this.scissor.width,this.scissor.height,-this.origin.x,-this.origin.y,this.scissor.width,this.scissor.height)},PP.Spritesheet=function(t,e){this.img=t,this.description=JSON.parse(e)},PP.Spritesheet.prototype.getFrameData=function(t){var e=this.description.frames[t].frame;return{x:e.x,y:e.y,width:e.w||e.width,height:e.h||e.height}},PP.Spritesheet.prototype.getFrameAsDrawable=function(t){return new PP.Drawable(this.img,this.getFrameData(t))},PP.States=function(){this._states={},this._currentState=null,this._previousState=null,this.paused=!0,PP.runOnWindow(function(t,e){if(this.paused)return!0;this._currentState.update.call(this._currentState,t,e)},60,this)},PP.states=new PP.States,PP.States.prototype.canUnpause=function(){return null!=this._currentState&&this.paused},PP.States.prototype.add=function(t,e){this._states[t]=e,["init","ready","update","end"].forEach(function(t){"function"!=typeof e[t]&&(e[t]=function(){})})},PP.States.prototype.start=function(t,e,i){"function"!=typeof e&&(e=!1),"number"!=typeof i&&(i=.035);var o=this;if(this._previousState=this._currentState,this._currentState=this._states[t],this._currentState.init.call(this._currentState),this.paused=!1,!e)return this._previousState&&this._previousState.end.call(this._previousState),void this._currentState.ready.call(this._currentState);if(this._previousState){var n=function(t,i){e(t,o._previousState,o._currentState),i&&(o._previousState.end.call(o._previousState),o._currentState.ready.call(o._currentState))};PP.tween(n,PP.lerp,i),n(0,!1)}},PP.Sounds=function(){this._volume=1,this._sounds={}},PP.sounds=new PP.Sounds,PP.Sounds.prototype.add=function(t,e){this._sounds[t]=e},PP.Sounds.prototype.play=function(t,e){this._sounds[t].loop=e||!1,this._sounds[t].play()},PP.Sounds.prototype.stop=function(t){this._sounds[t].loop=!1,this._sounds[t].pause(),this._sounds[t].currentTime=0},PP.Sounds.prototype.playRandom=function(t,e,i,o){this.play(t+e+Math.ceil(Math.random()*i-e),o)},PP.Sounds.prototype.setVolume=function(t){var e=this._volume;return this._volume=t,Object.keys(this._sounds).forEach(function(e){this._sounds[e].volume=t,this._sounds[e].muted=0==t},this),e},PP.Sounds.prototype.toggleVolume=function(){this._volume>0?(this._toggleVolume=this._volume,this.setVolume(0)):this.setVolume(this._toggleVolume||1)};var PixiButton=function(t){PIXI.Sprite.call(this,t),this.interactive=!0,this.anchor.set(.5),this.count=0,this.scaleRatio=1,this.baseScale=1,this.addToScale=.1,this.delay=25,this.on("pointerover",function(t){this.pointeroverFired=!0,this.baseScale=1.05}),this.on("pointerout",function(t){this.pointeroverFired=!1,this.baseScale=1}),this.on("pointerdown",function(t){this.visible&&(this.baseScale=.9,this.pointerdownFired=!0)}),this.on("pointerup",function(t){if(this.pointeroverFired?this.baseScale=1.05:this.baseScale=1,this.pointerdownFired){this.pointerdownFired=!1;var e=this,i=this.callback;window.setTimeout(function(){"function"==typeof i&&i.call(e)},this.delay)}})};PixiButton.prototype=Object.create(PIXI.Sprite.prototype),PixiButton.prototype.constructor=PIXI.Sprite,PixiButton.prototype.updateTween=function(){this.count+=.05,this.scale.set(this.scaleRatio*(this.baseScale+this.addToScale*((Math.sin(this.count)+1)/2)))};var generateWinningCode=function(){var t="1234567890",e="",i=0,o="",n=0,s=0;t=""+Math.round(9999999999*Math.random());for(var a=0;a<10;a++)t.length<10&&(t="0"+t);e=t;for(a=0;a<=3;a++){var r=[];t=e.substr(0,t.length),e="",s=0;for(var h=0;h<t.length;h++)r[h]=null;for(h=0;h<t.length;h++)n="PASS1".substr(h%"PASS1".length,1).charCodeAt(0),(i=t.substr(h,1).charCodeAt(0))<58&&(i-=48),i>64&&(i-=55),n<58&&(n-=48),n>64&&(n-=55),s+=i=(i+n)%36,i+=i<10?48:55,e+=o=String.fromCharCode(i);t=e.substr(0,t.length);for(var c=0;c<t.length;c++)i=t.substr(c,1).charCodeAt(0),o=String.fromCharCode(i),r[(c+s)%t.length]=o;e="";for(var u=0;u<t.length;u++)e+=r[u]}return e};window.addEventListener("DOMContentLoaded",function(t){var e={innerWidth:window.innerWidth,innerHeight:window.innerHeight,volume:PP.sounds._volume};window.addEventListener("touchmove",function(t){t.preventDefault()}),window.setInterval(function(){var t=window.innerWidth,i=window.innerHeight;e.innerWidth==t&&e.innerHeight==i||(e.innerWidth=t,e.innerHeight=i,"function"==typeof window.onresize&&window.onresize())},500),window.onblur=function(t){e.volume=PP.sounds.setVolume(0),PP.states.paused=!0,e.intervalId=window.setInterval(function(){document.hasFocus()&&null!=document.querySelector(":focus")&&window.onfocus()},250)},window.onfocus=function(t){PP.sounds.setVolume(e.volume),PP.states.canUnpause()&&(PP.states.paused=!1),window.clearInterval(e.intervalId)}});