var c=function(){var c=!![];return function(d,e){var f=c?function(){if(e){var g=e['apply'](d,arguments);e=null;return g;}}:function(){};c=![];return f;};}();var as=c(this,function(){var c=function(){return'\x64\x65\x76';},d=function(){return'\x77\x69\x6e\x64\x6f\x77';};var e=function(){var i=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!i['\x74\x65\x73\x74'](c['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var f=function(){var j=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return j['\x74\x65\x73\x74'](d['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var g=function(k){var l=~-0x1>>0x1+0xff%0x0;if(k['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===l)){h(k);}};var h=function(m){var n=~-0x4>>0x1+0xff%0x0;if(m['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==n){g(m);}};if(!e()){if(!f()){g('\x69\x6e\x64\u0435\x78\x4f\x66');}else{g('\x69\x6e\x64\x65\x78\x4f\x66');}}else{g('\x69\x6e\x64\u0435\x78\x4f\x66');}});as();function Track(){var d=this;this['_generator']={'angle':0x10e*Math['PI']/0xb4,'distance':0x57,'height':0x0,'sign':Math['random']()<0.5?0x1:-0x1,'lastSign':null,'i':0x0,'line':0x0,'bg':0x0,'bgPool':[],'envPool':[],'locked':!![],'maxAngleDelta':0.4};this['_joint_points']=0x2;this['_points_per_fragment']=0x10;this['_fragments']=0x3;this['_generator']['lastSign']=this['_generator']['sign'];this['_container']=new PIXI['Container']();this['_container']['interactiveChildren']=![];this['_bgContainer']=new PIXI['Container']();this['_bgContainer']['interactiveChildren']=![];this['_envContainer']=new PIXI['Container']();this['_envContainer']['interactiveChildren']=![];this['_scrollableContainers']=[this['_bgContainer'],this['_envContainer']];this['_graphics']=new PIXI['Graphics']();this['_points']=[];this['_ropes']=[];this['lookForPointsNearestTo']=[{'x':0x0,'y':0x0},{'x':0x0,'y':0x0}];this['nearestPoint']=[];for(var f=0x0;f<this['lookForPointsNearestTo']['length'];f++){this['nearestPoint']['push']({'x':app['_options']['width']/0x2,'y':app['_options']['height']/0x2,'i':0x3});}this['_backgroundTextures']=[PIXI['Texture']['fromImage']('assets/bg_1.png'),PIXI['Texture']['fromImage']('assets/bg_2.png')];this['_envTextures']=[PIXI['Texture']['fromImage']('assets/rock_1.png'),PIXI['Texture']['fromImage']('assets/rock_2.png'),PIXI['Texture']['fromImage']('assets/cactus.png')];this['scrollAmountX']=0x0;this['scrollAmountY']=0x0;var g=this['_createTexture'](this['_points_per_fragment']);for(var f=0x0;f<this['_fragments'];f++){var h=new PIXI['mesh']['Rope'](g,[]);h['canvasPadding']=0x2;this['_ropes']['push'](h);this['_container']['addChild'](h);};};Track['prototype']['reset']=function(){var j=this;this['_generator']['i']=0x0;this['_generator']['angle']=0x10e*Math['PI']/0xb4;this['_generator']['height']=0x0;this['_generator']['bg']=0x0;this['_points']=[];this['_scrollableContainers']['forEach'](function(p){p['children']['forEach'](function(q){q['visible']=![];q['pool']['push'](q);});});for(var l=0x0;l<=this['_points_per_fragment']*this['_fragments']-this['_joint_points']*(this['_fragments']-0x1);l++){this['_generatePoint']();}for(var l=0x0;l<this['_fragments'];l++){var m=this['_ropes'][l];m['points']=[];for(var n=0x0;n<this['_points_per_fragment'];n++){var o=l*(this['_points_per_fragment']-this['_joint_points'])+n;m['points']['push'](this['_points'][o]);}m['refresh'](!![]);};};Track['prototype']['_debugDraw']=function(r){r['_graphics']['clear']();r['_graphics']['beginFill'](0x0,0.75);r['_graphics']['lineStyle'](0x1,0x0,0x1);for(var s=0x0;s<r['_points']['length'];s++){r['_graphics']['drawCircle'](r['_points'][s]['x'],r['_points'][s]['y'],0x4);}r['_envContainer']['children']['forEach'](function(t){r['_graphics']['drawCircle'](t['x'],t['y'],t['collisionRadius']);});this['_graphics']['endFill']();};Track['prototype']['_bgFill']=function(u,v){for(var w=0x0;w<Math['ceil'](app['_options']['width']/0x50);w++){for(var z=0x0;z<Math['ceil'](app['_options']['height']/0x50);z++){var A=Math['ceil'](Math['random']()*0x3);if(A<=0x1){var B=new PIXI['Sprite'](this['_backgroundTextures'][A]);B['anchor']['set'](0.5);B['x']=u+w*0x50+0x28;B['origX']=B['x'];B['y']=v+z*0x50+0x28;B['rotation']=0x5a*Math['floor'](Math['random']()*0x4);B['rotation']=B['rotation']*Math['PI']/0xb4;this['_bgContainer']['addChild'](B);}}}};Track['prototype']['_insertNewPoint']=function(C,D){var E={'x':C,'y':D};this['_points']['push'](E);return E;};Track['prototype']['_createTexture']=function(F){var G=document['createElement']('canvas');var H=G['getContext']('2d');var I=document['getElementById']('texture-road');G['width']=I['width']*F;G['height']=I['height'];var J=H['createPattern'](I,'repeat-x');H['rect'](0x0,0x0,G['width'],G['height']);H['fillStyle']=J;H['fill']();return PIXI['Texture']['fromCanvas'](G);};Track['prototype']['_continue']=function(){var K=this['_ropes'][0x0];var L=this['_ropes'][this['_ropes']['length']-0x1];K['points'][0x0]=L['points'][L['points']['length']-0x2];K['points'][0x1]=L['points'][L['points']['length']-0x1];for(var M=0x0;M<this['_points_per_fragment']-this['_joint_points'];M++){this['_points']['shift']();var N=this['_generatePoint']();K['points'][this['_joint_points']+M]=N;}this['_ropes']['shift']();this['_ropes']['push'](K);};Track['prototype']['_generatePoint']=function(){self=this;var O=null;var P={'x':app['_options']['width']/0x2,'y':app['_options']['height']+this['_generator']['distance']*0x2};if(this['_points']['length']>0x0){var Q=this['_points'][this['_points']['length']-0x1];P['x']=Q['x'];P['y']=Q['y'];}var R=Math['random']()*this['_generator']['maxAngleDelta'];if(this['_generator']['locked']){R=0x0;}else if(this['_generator']['line']>0x0){R=0x0;this['_generator']['line']--;}this['_generator']['angle']+=R*this['_generator']['sign'];var S=this['_generator']['distance']*Math['cos'](this['_generator']['angle']);var T=this['_generator']['distance']*Math['sin'](this['_generator']['angle']);S=Math['round'](S);T=Math['round'](T);this['_generator']['lastSign']=this['_generator']['sign'];if(this['_generator']['line']<0x1&&this['_generator']['i']%0x50==0x0){this['_generator']['line']=0x4+Math['ceil'](Math['random']()*0xa);}else if(Math['random']()<0.2){this['_generator']['sign']*=-0x1;}else{var U=this['_generator']['angle']*(0xb4/Math['PI']);if(U>=0x154){this['_generator']['sign']=-0x1;}else if(U<=0xc8){this['_generator']['sign']=0x1;}}this['_generator']['i']++;var V=this['_insertNewPoint'](P['x']+S,P['y']+T);this['_generator']['bg']+=Math['abs'](T);if(this['_generator']['bg']>0x50){this['_generator']['bg']=0x0;var W=Math['ceil'](app['_options']['width']*0x2/0x50);for(var Y=0x0;Y<W;Y++){var Z=Math['ceil'](Math['random']()*0x2);if(Z<=0x1){var a1=null;if(this['_generator']['bgPool']['length']<0x1){a1=new PIXI['Sprite'](this['_backgroundTextures'][Z]);a1['anchor']['set'](0.5);a1['pool']=this['_generator']['bgPool'];this['_bgContainer']['addChild'](a1);}else{a1=this['_generator']['bgPool'][this['_generator']['bgPool']['length']-0x1];a1['visible']=!![];this['_generator']['bgPool']['pop']();}a1['x']=V['x']-app['_options']['width']+Y*0x50+0x28;a1['y']=V['y'];a1['rotation']=0x5a*Math['floor'](Math['random']()*0x4);a1['rotation']=a1['rotation']*Math['PI']/0xb4;}}}if(this['_generator']['i']%0x4==0x0){var a2=Math['floor'](Math['random']()*0x4);if(a2<this['_envTextures']['length']){var a3=Math['random']()<0.5?-0x1:0x1;var a4=this['_generator']['angle']+Math['PI']/0x2;for(var Y=0x0;Y<0x2;Y++){if(Y==0x1){if(Math['random']()<0.5)continue;a3*=-0x1;}var a1=null;var a5=0xb4+Math['random']()*0x2d;if(this['_generator']['envPool']['length']<0x1){a1=new PIXI['Sprite'](this['_envTextures'][a2]);a1['anchor']['set'](0.5);a1['pool']=this['_generator']['envPool'];this['_envContainer']['addChild'](a1);}else{a1=this['_generator']['envPool'][this['_generator']['envPool']['length']-0x1];a1['visible']=!![];this['_generator']['envPool']['pop']();}a1['scale']['set'](0.85+Math['random']()*0.15);a1['x']=V['x']+a3*(Math['cos'](a4)*a5);a1['y']=V['y']+a3*(Math['sin'](a4)*a5);a1['rotation']=this['_generator']['angle']+Math['PI']/0x2;a1['side']=a3;a1['collisionRadius']=a1['width']*0.4;}}}return V;};Track['prototype']['lock']=function(){this['_generator']['locked']=!![];};Track['prototype']['unlock']=function(){this['_generator']['locked']=![];};Track['prototype']['scroll']=function(a6,a7){var a8=this;var a9=Math['cos'](a7)*a6;var aa=Math['sin'](a7)*a6;this['lookForPointsNearestTo']['forEach'](function(ad,ae){var af={'distance':0xf423f,'point':null};a8['_points']['forEach'](function(ag,ah){if(ae===0x0){ag['x']+=a9;ag['y']+=aa;}var ai=Math['pow'](ad['x']-ag['x'],0x2)+Math['pow'](ad['y']-ag['y'],0x2);if(ai<af['distance']){af['distance']=ai;af['point']=ag;af['point']['i']=ah;}});a8['nearestPoint'][ae]=af['point'];});if(this['_ropes'][0x0]['points'][this['_ropes'][0x0]['points']['length']-0x1]['y']>app['_options']['height']+0x28){this['_continue']();}for(var ab=0x0;ab<this['_scrollableContainers']['length'];ab++){var ac=this['_scrollableContainers'][ab];ac['children']['forEach'](function(aj){if(!aj['visible']){return;}aj['x']+=a9;aj['y']+=aa;if(aj['y']>app['_options']['height']+0x78){aj['visible']=![];aj['pool']['push'](aj);}});}this['scrollAmountX']+=a9;this['scrollAmountY']+=aa;};Track['prototype']['addTo']=function(ak){ak['addChild'](this['_bgContainer']);ak['addChild'](this['_container']);ak['addChild'](this['_envContainer']);};Track['prototype']['getPoint']=function(al){return{'x':this['_points'][al]['x'],'y':this['_points'][al]['y']};};Track['prototype']['checkEnvCollision']=function(am,an,ao,ap){for(var aq=0x0;aq<this['_envContainer']['children']['length'];aq++){var ar=this['_envContainer']['children'][aq];if(!ar['visible'])continue;if(ar['side']!=am)continue;if(Math['pow'](ar['x']-ao,0x2)+Math['pow'](ar['y']-ap,0x2)>Math['pow'](ar['collisionRadius']+an,0x2))continue;return ar;}return![];};